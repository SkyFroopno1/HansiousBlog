
<!DOCTYPE html>
<html lang="en ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hexo || </title>
    <meta name="author" content="John Doe">
    <meta name="description" content=" ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/images/avatar.png">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/maiden-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<meta name="generator" content="Hexo 5.4.2"></head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>加载过慢请开启缓存(浏览器默认开启)</p>
                    <div>
                        <img src="/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">Hexo</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
        <a href="/about">
            <span>
                <a-icon type="idcard" theme="filled" />
            </span>
            <span>about</span>
        </a>
        
        <a href="/archives">
            <span>
                <a-icon type="folder" theme="filled" />
            </span>
            <span>archives</span>
        </a>
        
        <a href="/like/categories">
            <span>
                <a-icon type="book" theme="filled" />
            </span>
            <span>categories</span>
        </a>
        
        <a href="/like/tags">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>tags</span>
        </a>
        
        <a target="_blank" rel="noopener" href="https://en.korilin.com">
            <span>
                <a-icon type="compass" theme="filled" />
            </span>
            <span>英文博客</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>Hexo</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="idcard" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">about</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="folder" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">archives</div>
                </div>
            </a>
            
            <a href="/like/categories">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="book" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">categories</div>
                </div>
            </a>
            
            <a href="/like/tags">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">tags</div>
                </div>
            </a>
            
            <a target="_blank" rel="noopener" href="https://en.korilin.com">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="compass" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">英文博客</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                    <div id="home-head" style=background-image:url('home.jpg')>
    <script>
        var menu = document.getElementById("menu")
        menu.className += " menu-color"
    </script>
     
    <div id="home-info" class="home-info" @click="home_click">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>Hexo</h1>
                <h3></h3>
                <h5></h5>
            </div>
        </span>
    </div>
     
</div>



<div id="home-posts-wrap" class=>
    <div id="home-posts">

        <div id="posts">
            

<div class="post">

    <a href="/2020/04/26/UML/">
        <h2>
            UML基础
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2020/4/26
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="一"><a href="#一" class="headerlink" title="一"></a>一</h1><p>面向对象基本思想总结：</p>
<p>(1)从<strong>现实世界</strong>中<strong>客观存在的事物</strong>出发来建立软件系统，强调直接以<strong>问题域</strong>（现实世界）中的<strong>事物</strong>为中心来思考问题、认识问题，并根据这些事物的本质特征，把它们<strong>抽象</strong>地表示为<strong>系统中的对象</strong>，作为系统的基本构成单位。这可以使系统直接映射问题域，保持问题域中事物及其相互关系的本来面貌(象)</p>
<p>(2)用<strong>对象的属性</strong>表示<strong>事物的性质</strong>；用<strong>对象的操作</strong>表示<strong>事物的行为</strong>。（属性与操作）</p>
<p>(3) 对象的<strong>属性与操作结合</strong>为一体，成为一个独立的、不可分的实体，对外屏蔽其内部细节。</p>
<p>(4)对<strong>事物进行分类</strong>。把具有相同属性和相同操作的对象归为一类，<strong>类</strong>是这些对象的抽象描述，每个<strong>对象</strong>是它的类的一个<strong>实例</strong>。</p>
<p>(5)<strong>复杂的对象</strong>可以用<strong>简单的对象</strong>作为其<strong>构成</strong>部分。（<strong>聚合</strong>）</p>
<p>(6)通过在不同程度上运用<strong>抽象</strong>的原则,可以得到较<strong>一般的类和较特殊的类</strong>。特殊类继承一般类的属性与操作，从而简化系统的构造过程及其文档。（<strong>继承</strong>）</p>
<p>(7)类具有封闭性，把内部的<strong>属性和操作隐藏起来</strong>，只有公共的操作对外是可见的。 (<strong>类的封闭性</strong>)</p>
<p>(8)对象之间通过<strong>消息进行通讯</strong>，以实现<strong>对象之间的动态联系</strong>。  （<strong>消息</strong>）</p>
<p>(9)通过<strong>关联</strong>表达类(一组对象)之间的<strong>静态关系</strong>。</p>
<p>优点：</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519140645798.png" alt="image-20210519140645798"></p>
<p><strong>封装</strong>的含义</p>
<ul>
<li><p>数据抽象（对象属性和方法的结合）</p>
</li>
<li><p>信息隐藏</p>
</li>
<li><p>封装的目的</p>
<ul>
<li><p>将对象的使用者和对象的设计者分开，使用者不必知道行为实现的细节，只需用设计者提供的消息来访问该对象。</p>
</li>
<li><p>把定义和实现分开，可以大大提高软件的可维护性、可修改性。</p>
</li>
</ul>
</li>
</ul>
<p><strong>继承</strong></p>
<ul>
<li><p>继承指子类自动获得父类中定义的数据、方法和关系，并可以添加新的成员的机制。</p>
</li>
<li><p>起始类称为基类、超类、父类或者泛化类，而继承类称为派生类、子类或者特化类。</p>
</li>
<li><p>继承可以帮助我们借助已知和熟悉的事物理解新的事物。</p>
</li>
<li><p>继承可提高软件的可复用性</p>
</li>
<li><p>继承简化了对现实世界的描述，定义子类时只需专注于自己特有的属性和操作。</p>
</li>
<li><p>继承具有传递性。</p>
</li>
<li><p>继承关系表示类之间的层次关系。</p>
<ul>
<li><p>类间具有共享特征</p>
</li>
<li><p>类间具有差别或新增部分</p>
</li>
<li><p>类间具有层次关系</p>
</li>
</ul>
</li>
</ul>
<p><strong>接口</strong></p>
<ul>
<li><p>是一组没有相应方法实现的操作，非常类似于仅包含抽象方法的抽象类。</p>
</li>
<li><p>是对对象行为的描述，但是并不给出对象的实现和状态。（通俗的说，接口只是说明函数应该做什么，但没有定义函数如何做。）</p>
</li>
<li><p>一般只包含操作而不包含属性</p>
</li>
<li><p><strong>一个类可以实现多个接口。一个接口可以被多个类实现。</strong></p>
</li>
<li><p><strong>使用接口比使用抽象类要安全得多，因为它可以避免许多与多重继承相关的问题。</strong></p>
</li>
<li><p>如果需要几个类共享公共基类中没有的一些特性，且希望确保每个类自己实现这些特性，就应使用接口。</p>
</li>
<li><p>Java和C#等新型编程语言允许类实现多个接口，但只能继承一个通用或抽象类。</p>
</li>
</ul>
<p><strong>多态性</strong>的实现方式</p>
<ul>
<li><p>通过<strong>接口</strong>实现多态性</p>
</li>
<li><p>通过<strong>继承</strong>实现多态性</p>
</li>
<li><p>通过<strong>抽象类</strong>实现的多态性</p>
</li>
</ul>
<p><strong>多态性</strong>的优势</p>
<ul>
<li><p>面向对象技术正是利用多态提供的动态行为特征，来封装变化，适应变更，以达到系统的稳定。</p>
<ul>
<li><p><strong>增加了面向对象软件系统的灵活性。</strong></p>
</li>
<li><p><strong>进一步减少了信息冗余。</strong></p>
</li>
<li><p>提高了软件的可重用性和可扩展性。</p>
</li>
</ul>
</li>
</ul>
<p><strong>面向对象分析的</strong>基本原则</p>
<ul>
<li>抽象原则</li>
<li>分类原则<ul>
<li>分类是把具有相同属性和行为的对象划分为一类，用类作为这些对象的抽象描述。</li>
<li>通过不同程度的抽象可以形成一般/特殊结构。</li>
</ul>
</li>
<li>聚合原则<ul>
<li>在面向对象分析中运用聚合原则将一个复杂的事物划分为几个组成部分，形成整体/部分结构</li>
</ul>
</li>
<li>关联原则<ul>
<li>通过一个事物可以联想到另外一个事物。</li>
<li>在面向对象分析中运用关联原则可以在系统模型中明确表示对象之间的静态联系。实例连接</li>
</ul>
</li>
<li>通信原则<ul>
<li>对象之间只能通过消息进行通信。</li>
<li>由于封装性。用消息连接表示对象之间的动态联系。</li>
</ul>
</li>
<li>高层模块设计的准则<ul>
<li>强内聚。</li>
<li>弱耦合</li>
<li>良好的可拓展性和灵活性</li>
</ul>
</li>
</ul>
<h1 id="二-软件建模"><a href="#二-软件建模" class="headerlink" title="二 软件建模"></a>二 软件建模</h1><p><strong>概念</strong></p>
<p>软件建模是把软件系统中<strong>人们关心的各个部分用模型的方式表达出来</strong>，以帮助软件产品开发的相关人员对其所开发的<strong>系统的行为和结构</strong>进行有效的说明和可视化，<strong>指导软件系统的建造</strong>，和为所建造的系统进行建档。</p>
<p><strong>建模可以帮助开发者更好的了解正在开发的系统。</strong></p>
<ol>
<li><p>便于<strong>可视化</strong>系统，便于开发人员<strong>交流</strong>。</p>
</li>
<li><p>允许开发人员<strong>制定</strong>系统的<strong>结构</strong>(组织)或<strong>行为</strong>(动态)，并将结构和行为联系起来，更好的<strong>理解</strong>正在开发的系统。</p>
</li>
<li><p>提供指导开发人员<strong>构造系统的模板</strong>。</p>
</li>
<li><p>对系统的体系结构进行可视化和控制，常用来揭示<strong>简化和复用</strong>的机会。</p>
</li>
<li><p>记录开发人员的<strong>决策</strong>（文档化）。</p>
</li>
<li><p>构建物理实体之前先<strong>测试</strong>，在早期就能修正一些缺陷。</p>
</li>
<li><p><strong>降低</strong>软件开发<strong>复杂度</strong>，有利于管理风险。</p>
</li>
</ol>
<p><strong>软件建模的特征</strong></p>
<ol>
<li><p>准确性(必须正确并恰当地描述它们所表示的系统)</p>
</li>
<li><p>可理解性（模型必须尽可能简单，必须易于人们的交流）</p>
</li>
<li><p>一致性（不同的图和视图表达的信息不能互相冲突）</p>
</li>
<li><p>可修改性（容易修改、更新、扩展和维护）</p>
</li>
</ol>
<p><strong>软件建模的原则</strong></p>
<ol>
<li>准确的原则</li>
<li>分层的原则</li>
<li>实际的原则</li>
<li>分治的原则</li>
<li>标准的原则</li>
</ol>
<h1 id="三-UML构成总览"><a href="#三-UML构成总览" class="headerlink" title="三 UML构成总览"></a>三 UML构成总览</h1><h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h2><h3 id="结构事物"><a href="#结构事物" class="headerlink" title="结构事物"></a>结构事物</h3><p>它是模型的静态部分，描述概念或物理元素。</p>
<ul>
<li><p>类和对象</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519221834177.png" alt="image-20210519221834177"></p>
</li>
<li><p>接口</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519221851383.png" alt="image-20210519221851383"></p>
</li>
<li><p>协作</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519221918658.png" alt="image-20210519221918658"></p>
</li>
<li><p>用况、用例</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519221901700.png" alt="image-20210519221901700"></p>
</li>
<li><p>主动类、活动类</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519221937026.png" alt="image-20210519221937026"></p>
</li>
<li><p>组件构件</p>
</li>
<li><p>节点</p>
</li>
</ul>
<h3 id="行为事物"><a href="#行为事物" class="headerlink" title="行为事物"></a>行为事物</h3><p>它是模型的动态部分，代表了跨越时间和空间的行为。</p>
<ul>
<li><p>交互</p>
<ul>
<li>交互（interaction）：是在特定语境中，共同完成某个任务的一组对象之间交换的消息集合 。</li>
<li>消息是描述交互的手段。</li>
<li>消息的表示法是一条有向直线，并在上面标有操作名。</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519222056568.png" alt="image-20210519222056568"></p>
</li>
<li><p>状态机</p>
<ul>
<li>描述一个对象或交互在生命周期内响应事件所经历的状态序列以及它对这些事情做出的响应</li>
<li>在UML模型中状态的表示法为一个圆角矩形，并在矩形内写出状态名称及其子状态</li>
<li>状态机包括一系列的对象状态、事件、由事件引起的状态之间的转换以及转换发生的同时对象所执行的动作。</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519222205381.png" alt="image-20210519222205381"></p>
</li>
<li><p>活动</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519222236621.png" alt="image-20210519222236621"></p>
</li>
</ul>
<h3 id="分组事物"><a href="#分组事物" class="headerlink" title="分组事物"></a>分组事物</h3><p>用来组织模型，使模型更加的结构化。</p>
<h3 id="注释事物"><a href="#注释事物" class="headerlink" title="注释事物"></a>注释事物</h3><p>和代码中的注释语句一样，是用来补充描述模型的</p>
<h2 id="事务之间的关系【基础中的重点】"><a href="#事务之间的关系【基础中的重点】" class="headerlink" title="事务之间的关系【基础中的重点】"></a>事务之间的关系【基础中的重点】</h2><ul>
<li><p>关联</p>
<ul>
<li>代表结构元素之间的某种语义上的连接</li>
<li>关联关系具有方向性，<strong>单向或双向</strong></li>
<li>关联可以有名称，关联两端可以标有角色和多重性</li>
<li>关联关系可以用在<strong>类图、用例图、部署图</strong>等</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519224038889.png" alt="image-20210519224038889"></p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519224303000.png" alt="image-20210519224303000"></p>
</li>
<li><p>依赖</p>
<ul>
<li>描述一个元素对另一个元素的依附。例如一个事物的变化会影响到另一个事物。</li>
<li>依赖关系具有方向性，且是<strong>单向</strong>的</li>
<li>依赖关系可以应用到<strong>类图、用例图、组件图</strong>等</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519224052026.png" alt="image-20210519224052026"></p>
</li>
<li><p>泛化</p>
<ul>
<li>泛化关系是一种表示特殊/一般的关系。</li>
<li>泛化关系具有方向性，且是<strong>单向</strong>的。</li>
<li>泛化关系可以应用到<strong>类图、用例图</strong>等</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519224135566.png" alt="image-20210519224135566"></p>
</li>
<li><p>实现</p>
<ul>
<li>表示一个元素实现另一个元素</li>
<li>常见的实现关系<ol>
<li><strong>接口和实现接口的类</strong>或组件之间的关系</li>
<li>用况(<strong>用例</strong>)和实现用况(<strong>用例</strong>)的协作之间的关系</li>
</ol>
</li>
<li>实现关系具有方向性，且是单向的。</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519224144282.png" alt="image-20210519224144282"></p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519224558642.png" alt="image-20210519224558642"></p>
</li>
<li><p>聚合</p>
<ul>
<li>一种特殊形式的关联关系，表示类之间的关系是整体与部分的关系。</li>
<li>聚合关系具有方向性，且是单向的。</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519224647744.png" alt="image-20210519224647744"></p>
<ul>
<li><strong>组合关系</strong>，是一种强聚合关系，用实心菱形表示，描述部分依赖于整体的存在而存在</li>
</ul>
</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210519224733283.png" alt="image-20210519224733283"></p>
<h2 id="9种UML图"><a href="#9种UML图" class="headerlink" title="9种UML图"></a>9种UML图</h2><p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210520082429366.png" alt="image-20210520082429366"></p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210520082436264.png" alt="image-20210520082436264"></p>
<h1 id="四、用例图-静态建模"><a href="#四、用例图-静态建模" class="headerlink" title="四、用例图 - 静态建模"></a>四、用例图 - 静态建模</h1><h2 id="4-1-概述"><a href="#4-1-概述" class="headerlink" title="4.1 概述"></a>4.1 概述</h2><p>用例是一种<strong>描述系统需求</strong>的方法，使用<strong>用例</strong>的方法来<strong>描述系统需求</strong>的过程就是<strong>用例建模</strong></p>
<p><strong>用例方法</strong>的基本思想：<strong>用例图是从</strong>用户角度<strong>来</strong>描述系统功能的，只<strong>关心</strong>系统所能提供的<strong>服务，并不需要</strong>了解系统的内部结构和设计细节。</p>
<p><strong>用例的作用：</strong>作为整个系统开发过程中的开发依据，<strong>指导和</strong>驱动其它模型 。用例驱动的软件开发。用例图多用于<strong>业务</strong>建模和需求建模。</p>
<h2 id="4-2-元素组成"><a href="#4-2-元素组成" class="headerlink" title="4.2 元素组成"></a>4.2 元素组成</h2><ul>
<li><p>参与者：系统外部与系统直接交互的事物，也称为活动者</p>
</li>
<li><p>用例：用例是外部可见的<strong>系统功能单元</strong>，是对<strong>功能需求的描述</strong></p>
</li>
<li><p>关系（参与者与参与者之间的关系，参与者与用例之间的关系，用例之间的关系）</p>
<ul>
<li><strong>参与者</strong>与<strong>用例</strong>之间的关系：关联</li>
<li><strong>用例</strong>之间的关系：包含、扩展、泛化</li>
<li><strong>参与者</strong>之间的关系：<strong>泛化</strong></li>
</ul>
</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210520100257350.png" alt="image-20210520100257350"></p>
<p>​    这里应注意依赖关系的箭头方向。他是由拓展用例指向基用例</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210520200501760.png" alt="image-20210520200501760"></p>
<p><strong>扩展用例</strong>本身<strong>不是完整</strong>独立的用例，无法单独执行，扩展用例的执行必须<strong>依赖于基础用例</strong></p>
<h2 id="4-3-用例图的描述"><a href="#4-3-用例图的描述" class="headerlink" title="4.3 用例图的描述"></a>4.3 用例图的描述</h2><p>在UML中对用例的描述并没有硬性规定，但一般情况下用例描述应包括以下几个方面：</p>
<ul>
<li><p><strong>用例</strong>名称：表明用例的用途，如上面示例中的“借阅图书”、“归还图书”。</p>
</li>
<li><p><strong>标识符：</strong>[可选]编号惟一标识符一个用例，如“UC200601”。</p>
</li>
<li><p><strong>参与者：</strong>[可选]与此用例相关的参与者列表。</p>
</li>
<li><p><strong>简要</strong>说明：对该用例进行说明，描述用例作用。注意语言简要，使用自然语言。</p>
</li>
<li><p><strong>前置条件</strong></p>
</li>
</ul>
<p>一个条件列表。前置条件描述了用例之前系统必须满足的条件。如果条件不满足，则用例不会被执行。</p>
<p>例如： 借阅图书用例前置条件：学生出示的借书证必须是合法的借书证。</p>
<ul>
<li><strong>后置条件</strong></li>
</ul>
<p>后置条件在用例成功完成后得到满足，它提供了系统的部分描述。<strong>用例结束后，系统处于什么状态</strong>。</p>
<p>例如：借阅图书用例后置条件：借书成功，则返回该学生借阅信息；借书失败，则返回失败的原因。</p>
<ul>
<li><strong>扩展点</strong></li>
</ul>
<p>如果包括扩展用例，则写出扩展用例在什么情况下使用。应该在编写事件流的同时编写。</p>
<ul>
<li><strong>基本事件流</strong>(主事件流)</li>
</ul>
<p>描述当各项工作都正常进行时用例的工作方式。事件流描述了用户和执行用例之间交互的每一步。</p>
<p>事件流是将个别用例进行合适的细化任务。可以发现原始用例图遗漏的内容。</p>
<ul>
<li><strong>其它事件流</strong>（扩展事件流，错误事件流）</li>
</ul>
<p>在变更工作方式、出现异常或发生错误的情况下所遵循的步骤。</p>
<h3 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h3><p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210520203056671.png" alt="image-20210520203056671"></p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210520203111422.png" alt="image-20210520203111422"></p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210520203123898.png" alt="image-20210520203123898"></p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210520203148758.png" alt="image-20210520203148758"></p>
<p>类ClassA包含类ClassB，而且可以控制类ClassB的生命周期</p>
<p>关系是 组合</p>
<p>A做B的参数</p>
<p>关系是 依赖</p>
<p>A包含B的实例</p>
<p>关系是 聚合</p>
<h2 id="4-4-用例图建模过程"><a href="#4-4-用例图建模过程" class="headerlink" title="4.4 用例图建模过程"></a>4.4 用例图建模过程</h2><ol>
<li><p>识别执行者</p>
<ul>
<li>系统外 — 必须和它交互</li>
<li>系统边界 — 责任边界，非物理边界</li>
<li>系统边界 — 直接与系统交互</li>
<li>有意义交互 — 属于目标系统的责任</li>
<li>任何事物 — 人、外系统、外部因素、时间</li>
</ul>
</li>
<li><p>识别用例</p>
<ul>
<li><p>执行者通过系统达到某个目标</p>
</li>
<li><p><strong>有意义的目标</strong></p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210520204635467.png" alt="image-20210520204635467"></p>
</li>
<li><p>用例命名：[状语] 动词 +( [定语] 宾语)</p>
</li>
<li><p>易错点1：把步骤当用例</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210520204827737.png" alt="image-20210520204827737"></p>
</li>
<li><p>易错点2：警惕CRUD泛滥。一个用例背后可能隐藏着许多数据操作</p>
</li>
<li><p>登录问题：</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210520205227117.png" alt="image-20210520205227117"></p>
</li>
</ul>
</li>
</ol>
<h1 id="五、活动图-动态建模"><a href="#五、活动图-动态建模" class="headerlink" title="五、活动图 - 动态建模"></a>五、活动图 - 动态建模</h1><p><strong>用例图</strong>建模系统的功能需求，<strong>活动图</strong>则指明了系统将如何实现它的用例功能</p>
<h2 id="5-1-元素组成"><a href="#5-1-元素组成" class="headerlink" title="5.1 元素组成"></a>5.1 元素组成</h2><ul>
<li><p><strong>活动</strong>表示成<strong>圆角矩形</strong></p>
<ul>
<li><p>分有动作状态和活动状态</p>
</li>
<li><p>活动状态的内部活动可以用另一个活动图来表示</p>
</li>
<li><p>区分：</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521133349814.png" alt="image-20210521133349814"></p>
</li>
</ul>
</li>
<li><p>两个活动的图标之间用带箭头的直线</p>
</li>
<li><p>起点和终点</p>
</li>
<li><p>动作流</p>
</li>
<li><p>分支与合并</p>
</li>
<li><p>分叉与汇合</p>
</li>
<li><p>泳道</p>
</li>
<li><p>对象流</p>
</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521133155342.png" alt="image-20210521133155342"></p>
<h2 id="5-2-活动图的用途"><a href="#5-2-活动图的用途" class="headerlink" title="5.2 活动图的用途"></a>5.2 活动图的用途</h2><ul>
<li>活动图对表示<strong>并发行为</strong>很有用，经常用于对系统的工作流程建模，即对系统的业务过程建模</li>
<li><strong>活动图从某种意义上</strong>包含了流程图的功能</li>
</ul>
<p><strong>活动图与流程图的区别：</strong></p>
<ul>
<li><p>流程图着重描述处理过程<strong>，它的主要控制结构是顺序、分支和循环，各个处理之间有严格的顺序和时间关系；而</strong>活动图描述的则是对象活动的顺序关系所遵循的规则，它着重表现的是系统的行为，而非系统的处理过程</p>
</li>
<li><p>活动图能够表示<strong>并发活动</strong>的情形，而流程图做不到</p>
</li>
<li><p>活动图是<strong>面向对象</strong>的，而流程图是<strong>面向过程</strong>的</p>
</li>
<li><p>活动图的应用更广，可以对业务过程、工作流、数据流和复杂算法进行建模</p>
</li>
</ul>
<h1 id="六、类图-静态建模"><a href="#六、类图-静态建模" class="headerlink" title="六、类图   -   静态建模"></a>六、类图   -   静态建模</h1><h2 id="6-1-元素组成"><a href="#6-1-元素组成" class="headerlink" title="6.1 元素组成"></a>6.1 元素组成</h2><ul>
<li><p>关联：类之间在概念上有实例连接关系时</p>
<ul>
<li>当模型中在相同的类中有多重关联（相同类之间的多种不同关联关系），就必须用关联名或角色（关联端名）来消除歧义</li>
<li>单向关联需要单向箭头，双向关联可以是双箭头或不用</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210522171433947.png" alt="image-20210522171433947"></p>
</li>
<li><p>依赖：其中一个事物（独立事物）的改变将影响到另一个事物（依赖事物）</p>
<ul>
<li>使用(use):声明使用一个模型元素需要用到已存在的另一个模型元素，这样才能实现使用者的功能</li>
<li>调用(call):声明一个类调用其他类的操作的方法</li>
<li>参数(parameter):声明一个操作和它的参数之间的关系</li>
<li>发送(send):声明信号发送者和信号接受者之间的关系</li>
<li>实例化(instantiate):声明一个类的方法创建了另一个类的实例</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210522172342531.png" alt="image-20210522172342531"></p>
</li>
<li><p>泛化：指一般元素和特殊元素的分类关系，描述了一种“is a kind of” 的关系，因为子类的每个实例也都是父类的实例</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210522172609182.png" alt="image-20210522172609182"></p>
<ul>
<li>面向对象设计原则—里氏替换原则（Liskov）<ul>
<li>在一个软件系统中，子类应该可以替换任何基类能够出现的地方，并且经过替换以后，代码还能正常工作。</li>
<li>父类出现的任何地方都可以用子类代替。</li>
<li>一般元素出现的地方都可以用特殊元素来代替。</li>
<li>用途：来判断在设计中的继承关系是否正确。</li>
</ul>
</li>
</ul>
</li>
<li><p>聚合：一种特殊类型的关联，表示整体与部分关系的关联</p>
<ul>
<li>在关联关系上体现不出整体和部分的关系，在聚合关系上一定会体现整体和部分的关系。</li>
</ul>
</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210522173826400.png" alt="image-20210522173826400"></p>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><p>可见性（访问权限，可访问性）</p>
<p>可见性描述了该属性对其它类是否可见，以及是否可以被其它类引用。</p>
<ul>
<li><strong>类型：</strong></li>
</ul>
<p>① 公有（Public） <strong>“＋”</strong></p>
<p>② 私有（Private）<strong>“－”</strong></p>
<p>③ 受保护（Protected）<strong>“＃”</strong>。</p>
<h3 id="操作"><a href="#操作" class="headerlink" title="操作"></a>操作</h3><p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210520210724137.png" alt="image-20210520210724137"></p>
<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p>作用域  是与属性和操作相关的一个重要概念。</p>
<ul>
<li><p>存在两种作用域：</p>
<p>（1）<strong>实例</strong> 作用域，类的不同实例对象拥有自己的属性值，类似于C++中的<strong>非静态成员</strong>。</p>
<p>（2）<strong>分类</strong> 作用域，类的所有实例对象共享相同的属性值，类似于C++中的<strong>静态成员</strong>。</p>
</li>
<li><p>UML 分类作用域的<strong>属性和操作名字要带下划线</strong>。</p>
</li>
</ul>
<h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><p><strong>抽象类：</strong>至少拥有一个抽象操作的类。</p>
<ul>
<li><p><strong>抽象操作：</strong>在指定该操作的类中并没有该操作的实现方法，而只是显示了操作签名的那种操作。</p>
</li>
<li><p>在UML图中，<strong>抽象操作</strong>的显示是在操作签名后面用特性字符串**{abstract}**，或者将操作签名用斜体字体方式显示。</p>
</li>
<li><p>在UML图中，<strong>抽象类</strong>的显示是在类名后面用特性字符串**{abstract}<strong>，或者将类名用</strong>斜体**字体方式显示。</p>
</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521125550585.png" alt="image-20210521125550585"></p>
<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><ul>
<li><p>UML中接口通常只包含操作不包含属性。</p>
</li>
<li><p>接口不能实例化为对象。</p>
</li>
<li><p>一个类可以实现一个或多个接口，一个接口可以被多个类实现。</p>
</li>
<li><p>如果类实现了接口，但未实现该接口中的所有操作，那么此类必须声明为抽象的。</p>
</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521125809697.png" alt="image-20210521125809697"></p>
<h2 id="6-2-类之间的关系识别"><a href="#6-2-类之间的关系识别" class="headerlink" title="6.2 类之间的关系识别"></a>6.2 类之间的关系识别</h2><h3 id="关联关系识别策略"><a href="#关联关系识别策略" class="headerlink" title="关联关系识别策略"></a>关联关系识别策略</h3><p><strong>1</strong>）认识各类对象之间的静态联系</p>
<p>​    从问题域与系统责任的角度出发，考虑各类对象之间是否存在着某种静态关系，并且需要在系统中加以表示。</p>
<p>​    例如：在学籍管理系统中，教师和班级之间存在着任课关系，要求在学籍管理系统中表现出来，就需要在教师、班级课程之间建立关联关系。</p>
<p><strong>2</strong>）识别关联的属性和操作</p>
<p>   对于考虑中的<strong>每个关联进一步分析它是否应该具有某些属性和操作</strong>，即是否存在着简单关联不能表达的信息。例如，在教师与学生的连接中，是否需要给出<strong>优先级和使用权限</strong>等属性信息和<strong>开始对话</strong>的操作？如果需要，则可以先在关联线上附加一个<strong>关联类</strong>符号，来容纳这些属性与操作。</p>
<p><strong>3</strong>）分析关联多重性</p>
<p>   对每个关联，从连接线的每一端看本端的一个对象可能与另一端的几个对象发生连接，把结果标注到连线的另一端。</p>
<h3 id="识别聚合关系策略"><a href="#识别聚合关系策略" class="headerlink" title="识别聚合关系策略"></a>识别聚合关系策略</h3><ol>
<li><p>物理上为整体的事物和它的部分。如汽车与发动机、人体与器官等。</p>
</li>
<li><p>组织机构或与它的下级组织部门。例如，学校下设若干个系、教务处、图书馆等部门。</p>
</li>
<li><p>团体（组织）与成员。例如，班级与学生、月计划表与日计划、公司与职员等。</p>
</li>
<li><p>空间上的包容关系。例如，教室与桌椅、生产车间与机器设备、公共汽车与乘客。</p>
</li>
<li><p>抽象事物的整体与部分。例如，学科与分支学科、法律与法律律条文、工程方案与方案细则等。</p>
</li>
<li><p>具体事物和它的某个抽象方面。例如，可把人员的基本情况用对象“人员”来描述，而把他的工作职责身份、工作业绩都独立出来用一个部分对象来表示，并与对象“人员”构成聚合关系</p>
</li>
<li><p>在材料上的组成关系。例如，汽车由钢、塑料和玻璃组成。</p>
</li>
</ol>
<h3 id="识别泛化关系策略"><a href="#识别泛化关系策略" class="headerlink" title="识别泛化关系策略"></a>识别泛化关系策略</h3><ol>
<li>理解问题域的分类学知识</li>
</ol>
<p><strong>问题域现行的分类方法比较正确地反映了事物的特征及各种概念的一般性与特殊性</strong>。学习理解这些知识将对认识对象及其特征、定义类、建立类之间的继承关系有很大的帮助。</p>
<ol start="2">
<li>依据常识考虑事物的分类</li>
</ol>
<p>如果<strong>问题域没有可供参考的分类方法</strong>，可以按照一般常识从各种不同的角度考虑事物的分类从而发现继承关系。</p>
<ol start="3">
<li>考虑类之间的语义关系</li>
</ol>
<p>如果<strong>类A与类B之间有着is a关系</strong>，那么类B所有的属性和操作是类A的属性和操作，则应考虑建立泛化关系。</p>
<ol start="4">
<li>考察类的属性和操作</li>
</ol>
<p><strong>从一个类中划分出一些特殊类</strong>。看一个类的属性与操作是否适合这个类的全部对象如果某些属性或操作只能适合该类的部分对象，则说明应该从这个类中划分出一些特殊类，建立泛化关系。例如：在“公司人员”类中有“股份”、“工资”两个属性，通过分析可以发现，“股份”属性只适合于公司的股东，而“工资”属性则适合于公司的职员。应在“公司人员”类下建立“股东”与“职员”两个特殊类</p>
<h3 id="识别依赖关系策略"><a href="#识别依赖关系策略" class="headerlink" title="识别依赖关系策略"></a>识别依赖关系策略</h3><ol>
<li><strong>优先考虑关联关系和泛化关系</strong></li>
</ol>
<p>通常，在描述语义上相互有联系的类之间的关系时，首先考虑是否存在着泛化方面的关系或结构（关联）方面的关系，并分别用对应的泛化关系或关联关系及其修饰形态进行描述。当类之间不宜于用这两种关系描述时，再考虑用依赖关系。</p>
<ol start="2">
<li><strong>考察类的改变</strong></li>
</ol>
<p>如果两个类之间存在语义上的连接，其中一个类是独立的，另一个类不是独立的；并且，独立类改变了，将影响另一个不独立的类，则建立它们之间的依赖关系。</p>
<p>具体而言，一个类向另一个类发送消息；一个类是另一个类的数据成员；一个类是另一个类的某个操作参数等。</p>
<ol start="3">
<li><strong>考察多重性</strong></li>
</ol>
<p>虽然说，如果类A和类B之间有关联关系，那么类A和类B之间也就有依赖关系。但是在关联关系中通常都会出现多重性，即使是一对一的多重性：<strong>但在依赖关系中定不会出现多重性</strong>。</p>
<h1 id="七、顺序图-动态建模"><a href="#七、顺序图-动态建模" class="headerlink" title="七、顺序图 - 动态建模"></a>七、顺序图 - 动态建模</h1><p><strong>是一种交互图，主要描述对象之间的动态合作关系以及合作过程中的行为次序，常用来描述一个用例的行为</strong></p>
<ul>
<li><p>顺序图 是一种详细表示对象之间动态交互的图形文档</p>
</li>
<li><p>顺序图将交互关系表示为一 个二维图。</p>
</li>
<li><p>横轴代表了在协作中各独立 的对象。</p>
</li>
<li><p>纵轴是时间轴，时间沿竖线 向下延伸。</p>
</li>
<li><p>沿时间方向按时间递增顺序 列出个对象所发出和接收的消息。</p>
</li>
</ul>
<h2 id="7-1-元素组成"><a href="#7-1-元素组成" class="headerlink" title="7.1 元素组成"></a>7.1 元素组成</h2><ul>
<li><p><strong>对象</strong></p>
<ul>
<li><p>命名方式：</p>
<ul>
<li>包括对象名和类名</li>
<li>类名 （匿名对象）</li>
<li>对象名（不关心类）</li>
</ul>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521140240628.png" alt="image-20210521140240628"></p>
</li>
<li><p>对象间的排列顺序并不重要，但一般把表示参与者的对象 放在图的两侧</p>
</li>
<li><p><strong>将对象置于顺序图的顶部意味着在交互开始的时候对象就已经存在了</strong>，如果对象的位置不在顶部，那么表示对象是在交互的过程中被创建的</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521140400320.png" alt="image-20210521140400320"></p>
</li>
<li><p>对象<strong>创建</strong>和<strong>销毁</strong></p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521140453557.png" alt="image-20210521140453557"></p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>生命线</strong> </p>
<ul>
<li><p>每个对象都有自己的生命线，生命线在顺序图中表示为从对象 图标向下延伸的一条虚线，表示对象在特定时间内的存在</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521140550909.png" alt="image-20210521140550909"></p>
</li>
</ul>
</li>
<li><p><strong>消息</strong> </p>
<ul>
<li><p><strong>消息可以用于在对象间传递参数</strong></p>
</li>
<li><p><strong>消息可以是信号（对象间的异步通信），也可以是调用（具有返回控制机制的同步调用）。</strong></p>
</li>
<li><p><strong>消息是两个对象之间的单路通信</strong>，<strong>从源对象指向目标对象，以触发目标对象中的特定操作</strong></p>
</li>
<li><p>三种消息：</p>
<ul>
<li><p><strong>调用消息</strong>：调用消息的发送者把控制传递给消息的接收者，然后停止 活动，等待消息接收者执行其某种操作后返回控制。<strong>由于发送者等待接收者，这种消息又叫做同步消息</strong></p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521141024620.png" alt="image-20210521141024620"></p>
</li>
<li><p><strong>异步消息</strong>：消息发送后，发送者继续操作，不等待，常用于并发。</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521141038983.png" alt="image-20210521141038983"></p>
</li>
<li><p><strong>返回消息</strong>：表示消息的返回。一般同步（过程调用）的返回不需要画出，直接隐含，而异步返回则可用它。<strong>如果异步消息有返回消息，必须明确表示出来</strong></p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521141136823.png" alt="image-20210521141136823"></p>
</li>
</ul>
</li>
<li><p><strong>反身消息</strong>：一个对象将一个消息发送给它本身，<strong>自反消息一般是同步消息</strong></p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521141327224.png" alt="image-20210521141327224"></p>
</li>
<li><p>阻止消息：消息发送者发送消息给接收者，如果接收 者无法立即接收消息，则发送者放弃这个消息</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521141407641.png" alt="image-20210521141407641"></p>
</li>
<li><p>超时消息：消息发送者发出消息给接收者并按指定时间等待。如果接收者无法在指定时间内接收消息，则发送者放弃这个消息</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521141447377.png" alt="image-20210521141447377"></p>
</li>
<li><p><strong>消息序号</strong>：</p>
<ul>
<li><p>整个消息的传递过程形成了一个完整的序列，因此可以通过在每个消息的前面加上一个用冒号隔开的顺序号来表示其顺序。消息序号可采用两种方式：</p>
<ul>
<li><p><strong>无层次的顺序编号</strong></p>
</li>
<li><p><strong>嵌套编号</strong></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>激活</strong> **/**（控制焦点） <strong>/</strong> <strong>控制条</strong></p>
<ul>
<li><p><strong>激活</strong>表示该对象被占用以完成某个任务，对象执行某 个动作的时期</p>
</li>
<li><p><strong>为了表示对象是激活的，可以将该对象的 生命线拓宽成为矩形</strong></p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521140658057.png" alt="image-20210521140658057"></p>
</li>
<li><p><strong>激活</strong>表示一个对象直接或者通过从属例程执行一个行为的时期，既可以表示行为执行的<strong>持续时间</strong>，也表示了活动和它的调用者之间的控制关系</p>
</li>
</ul>
</li>
</ul>
<p>​    </p>
<h2 id="7-2-顺序图建模步骤"><a href="#7-2-顺序图建模步骤" class="headerlink" title="7.2 顺序图建模步骤"></a>7.2 顺序图建模步骤</h2><ol>
<li> 确定需要建模的用例:根据一个用例的用例描述，找出基本事件流和可选事件流。</li>
<li>确定用例的工作流:分析事件流的先后次序。事件流的先后顺序决定了消息的发送次序。一个消息导致接收消息的对象执行一个动作。</li>
<li>确定各工作流涉及的对象:根据结构模型中确定的类，确定它在用例描述中的职责。一个职责对应该对象执行一个动作。并在顺序图中按从左到右顺序进行布置</li>
<li>在顺序图中添加消息和条件以便创建每个工作流</li>
<li>补充说明:<br>a. 必要的话，表达出需要创建的对象和需要撤销的对象。<br>b. 对于循环发送或分支发送的消息，使用消息顺序项进行表达。或者，使用交互架构表达。<br>c. 在系统分析阶段，可以只使用一般意义下的类。在系统设计阶段，可以细分出边界类、控制类、实体类。</li>
</ol>
<h1 id="八、协作图-通信图-动态建模"><a href="#八、协作图-通信图-动态建模" class="headerlink" title="八、协作图(通信图) - 动态建模"></a>八、协作图(通信图) - 动态建模</h1><p><strong>用于描述相互合作的对象间的交互关系，它描述的交互关系是对象间的消息连接关系。</strong></p>
<p>协作图（通信图）强调的是<strong>空间</strong></p>
<h2 id="8-1-元素组成"><a href="#8-1-元素组成" class="headerlink" title="8.1 元素组成"></a>8.1 元素组成</h2><ul>
<li><p>对象：<em>同顺序图概念</em>  但在协作图中，对于对象在图中的位置没有限制</p>
</li>
<li><p>链 :表示对象之间的语义连接</p>
</li>
<li><p>消息:</p>
<ul>
<li><p>消息是附在连接发送对象和接收对象的链上，使用带有标签的箭头线来表示</p>
</li>
<li><p>一个链上可以附有多个消息</p>
</li>
<li><p>语法格式：[前缀] [监护条件] [消息顺序项表达式] [返回值:=] 消息名（[参数列表]）</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521142355258.png" alt="image-20210521142355258"></p>
</li>
<li><p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521142418866.png" alt="image-20210521142418866"></p>
</li>
<li><p>返回消息：返回值的名字在最左，后 跟赋值号“:=”，接着是操作名和操作的参数</p>
</li>
</ul>
</li>
</ul>
<h2 id="8-2-协作图建模步骤"><a href="#8-2-协作图建模步骤" class="headerlink" title="8.2 协作图建模步骤"></a>8.2 协作图建模步骤</h2><ol>
<li><p>同顺序图的建模</p>
</li>
<li><p>或者：可以从顺序图直接变换过来</p>
</li>
<li><p>或者：根据类图，画出对应的对象图。在链上附着消息。**</p>
</li>
<li><p>在系统分析阶段，可以只使用一般意义下的类。在系统设计阶段，可以细分出边界类、控制类、实体类</p>
</li>
</ol>
<h2 id="8-3-顺序图与协作图的比较"><a href="#8-3-顺序图与协作图的比较" class="headerlink" title="8.3 顺序图与协作图的比较"></a>8.3 顺序图与协作图的比较</h2><h3 id="联系"><a href="#联系" class="headerlink" title="联系"></a>联系</h3><ul>
<li><p><strong>都用于描述系统中对象之间的交互协作完成一项功能</strong></p>
</li>
<li><p><strong>彼此可以相互转换</strong></p>
</li>
</ul>
<h3 id="区别"><a href="#区别" class="headerlink" title="区别"></a>区别</h3><ul>
<li><p><strong>顺序图强调的是</strong>消息的时间顺序；协作图强调的是对象的<strong>空间位置</strong>关系</p>
</li>
<li><p><strong>顺序图中有</strong>对象生命线和控制焦点；协作图中有路径，消息必须要有消息顺序号</p>
</li>
<li><p><strong>顺序图可以表示</strong>生命线的分叉；协作图可以表示多对象、主动对象</p>
</li>
</ul>
<h2 id="8-4-协作图样例"><a href="#8-4-协作图样例" class="headerlink" title="8.4 协作图样例"></a>8.4 协作图样例</h2><p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210521223947397.png" alt="image-20210521223947397"></p>
<h1 id="九、状态图-动态建模"><a href="#九、状态图-动态建模" class="headerlink" title="九、状态图 - 动态建模"></a>九、状态图 - 动态建模</h1><p><strong>状态图用来描述对象，子系统，系统的生命周期。</strong></p>
<p><strong>顺序图</strong>和<strong>状态图</strong>是系统动态行为的两个互补的视图</p>
<p><strong>顺序</strong>图<strong>显示了在较短的一段时间(通常是在单个用户产生的事务期间),在系统中的对象之间传递的消息,因此顺序图必须描述</strong>很多对象，即事务中所涉及的那些对象。</p>
<p><strong>状态图</strong>自始至终在一个<strong>单一对象</strong>的整个生存期中跟踪该对象，指定该对象能够接收的所有可能的消息序列,以及它对这些消息的响应。</p>
<h2 id="9-1-元素组成"><a href="#9-1-元素组成" class="headerlink" title="9.1 元素组成"></a>9.1 元素组成</h2><ul>
<li>状态 ：表示一个对象在其生存期内的状况。 <ul>
<li>初始状态、起始状态</li>
<li>中间状态组成：<ul>
<li>状态名</li>
<li>入口动作、出口动作（entry/exit action）</li>
<li>内部活动(do)：不导致当前状态发生改变的活动或动作。在一个状态中允许有多个动作</li>
<li>内部事件(event):不导致当前状态发生改变的事件，会触发相应的内部动作</li>
<li>延迟事件(event .. defer) : 延迟到下一状态中处理的事件</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>转移（转换，迁移）：表示不同状态之间的联系。</p>
</li>
<li><p>事件：事件触发状态转移。例如，一个信号、一个操作的调用、一个对象的创建或销毁、超时、某个条件的改变等。 </p>
</li>
<li><p>动作：执行的行为，原子计算。（动作可以与状态相关， 也可以与转移相关）</p>
</li>
<li><p>活动：一系列动作</p>
</li>
</ul>
<h2 id="9-2-状态图的过程描述"><a href="#9-2-状态图的过程描述" class="headerlink" title="9.2 状态图的过程描述"></a>9.2 状态图的过程描述</h2><h1 id="十、组件图-物理实现图"><a href="#十、组件图-物理实现图" class="headerlink" title="十、组件图 - 物理实现图"></a>十、组件图 - 物理实现图</h1><p><strong>组件</strong>图可以描述软件的各个组件以及它们之间的关系</p>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/软件工程" style=color:#ffa2c4>
                软件工程
            </a>
        </span>
        
    </div>

    <a href="/2020/04/26/UML/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2019/12/05/SQL/">
        <h2>
            SQL基础
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2019/12/5
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="零、简介"><a href="#零、简介" class="headerlink" title="零、简介"></a>零、简介</h1><p>重点内容已经标记，本笔记侧重操作，理论较少，仅进行简单的理论介绍，以达到了解的目的，本笔记旨在SQL的设计和操规范化进行讲解，《总结》和《设计》部分依据了Java后端开发工程师行业规约整理和总结而成，详细内容可查看《阿里巴巴Java开发手册》(华山版/泰山版/嵩山版)</p>
<p><em>By SkyFroop</em></p>
<center><font size= 6px color = #4e7ca1>有道无术，术尚可求；有术无道，止于术</font></center>































<h1 id="一、数据库分类"><a href="#一、数据库分类" class="headerlink" title="一、数据库分类"></a>一、数据库分类</h1><h2 id="1-1-关系型数据库-SQL"><a href="#1-1-关系型数据库-SQL" class="headerlink" title="1.1 关系型数据库(SQL)"></a>1.1 关系型数据库(SQL)</h2><ul>
<li>MySQL、Oracle、Sql Server、DB2、SQLlite</li>
<li>通过表和表之间，行和列之间的关系进行数据的存储。</li>
</ul>
<h2 id="1-2-非关系型数据库-NoSQL-Not-Only-SQL"><a href="#1-2-非关系型数据库-NoSQL-Not-Only-SQL" class="headerlink" title="1.2 非关系型数据库(NoSQL:Not Only SQL)"></a>1.2 非关系型数据库(NoSQL:Not Only SQL)</h2><ul>
<li>Redis、MongDB</li>
<li>非关系型数据库，对象存储，通过对象的自身的属性来决定</li>
</ul>
<h2 id="1-3-DBMS-数据库管理系统"><a href="#1-3-DBMS-数据库管理系统" class="headerlink" title="1.3 DBMS(数据库管理系统)"></a>1.3 DBMS(数据库管理系统)</h2><ul>
<li>数据库的管理软件，科学有效的管理我们的数据。</li>
<li>维护获取数据</li>
<li>MySQL本身就是一种数据库管理系统，可以管理和操作数据(DB)</li>
</ul>
<h2 id="1-4-数据库语言分类"><a href="#1-4-数据库语言分类" class="headerlink" title="1.4 数据库语言分类"></a>1.4 数据库语言分类</h2><ul>
<li>DDL   数据库定义语言</li>
<li>DML  数据库操作语言</li>
<li>DQL   数据库查询语言</li>
<li>DCL   数据库控制语言</li>
</ul>
<h1 id="二、DDL-DCL基本语句"><a href="#二、DDL-DCL基本语句" class="headerlink" title="二、DDL+DCL基本语句"></a>二、DDL+DCL基本语句</h1><p><strong>不区分大小写！</strong>如果某个字段名与关键字冲突，可以加两个 撇: ``</p>
<h2 id="2-1-数据库的列类型"><a href="#2-1-数据库的列类型" class="headerlink" title="2.1 数据库的列类型"></a>2.1 数据库的列类型</h2><blockquote>
<p>数值</p>
</blockquote>
<ul>
<li><p>整数:</p>
<ul>
<li>tinyint 十分小的数据     1个字节</li>
<li>smallint 较小的数据      2个字节</li>
<li><strong>int    标准的证书            4个字节【常用】</strong></li>
<li>bigint 较大的数据         8个字节</li>
</ul>
</li>
<li><p>浮点数:</p>
<ul>
<li>float  单精度浮点数      4个字节</li>
<li>double 双精度浮点数   8个字节</li>
<li>decimal  字符串形式的浮点数(精度问题！) 常用于金融计算</li>
</ul>
</li>
</ul>
<p><strong>注意</strong>：这里面的定义时后面的括号是显示字宽，不影响实际存储大小</p>
<blockquote>
<p>字符串</p>
</blockquote>
<ul>
<li>char  字符串固定大小 0–255</li>
<li><strong>varchar  可变字符串   0–65535 【最常用】</strong></li>
<li>tinytext  微型文本   2^8-1</li>
<li>text  文本串           2^16 - 1 保存大文本</li>
</ul>
<p>这里varchar()后面的数字可以代表长度</p>
<blockquote>
<p>时间日期</p>
</blockquote>
<ul>
<li>date     YYYY-MM-DD    日期格式</li>
<li>time     HH:MM:SS        时间格式</li>
<li><strong>datetime    YYYY-MM-DD  HH:MM:SS  【最常用】</strong></li>
<li>timestamp  时间戳   1970.1.1到现在的毫秒数【较常用】</li>
<li>year    年份</li>
</ul>
<blockquote>
<p>null</p>
</blockquote>
<ul>
<li>没有值</li>
<li>注意：不能使用NULL进行运算</li>
</ul>
<h2 id="2-2-数据库的字段属性-重点！"><a href="#2-2-数据库的字段属性-重点！" class="headerlink" title="2.2 数据库的字段属性(重点！)"></a>2.2 数据库的字段属性(重点！)</h2><ul>
<li>Unsigned : <ul>
<li>无符号的整数</li>
<li>声明了该列不能声明为负数</li>
</ul>
</li>
<li>zerofill：<ul>
<li>0填充的</li>
<li>不足的位数使用0来填充</li>
<li>如int(3) –&gt;  5 - 005</li>
</ul>
</li>
<li>自增：<ul>
<li>通常理解为自增，自动在上一条的基础上+1(默认+1)</li>
<li>通常用来设计唯一的主键，并且必须是整数类型</li>
<li>可以自定义设计主键自增的步长</li>
</ul>
</li>
<li>非空：<ul>
<li>如果设置为Not NULL，如果不给赋值，就会报错</li>
<li>如果设置为NULL，如果不赋值，默认为NULL</li>
</ul>
</li>
<li>默认：<ul>
<li>设置默认的值</li>
</ul>
</li>
</ul>
<p>alibaba规范，每一个表都必须包含以下五个字段：</p>
<p>id  主键</p>
<p>version  乐观锁</p>
<p>is_delete  伪删除</p>
<p>gmt_create  创建时间</p>
<p>gmt_update  修改数据</p>
<h2 id="2-3-MySQL基本语句"><a href="#2-3-MySQL基本语句" class="headerlink" title="2.3 MySQL基本语句"></a>2.3 MySQL基本语句</h2><ul>
<li><p>登录：mysql -u 用户名 -p 密码</p>
</li>
<li><p>查看所有的数据库：show databases;</p>
</li>
<li><p>切换数据库：use 数据库名;</p>
</li>
<li><p>查看所有的表：show tables;</p>
</li>
<li><p>显示数据库中所有的表的信息：describe student;</p>
</li>
<li><p>单行注释:  –  多行注释：/**/</p>
</li>
</ul>
<p>偷懒使用(可以用可视化工具创建后用此语句获取语句)：</p>
<ul>
<li>查看创建数据库的语句 : Show Create Database 数据库名;</li>
<li>查看数据表的定义语句: Show Create Table 表名;</li>
<li>DESC 表名：显示表的结构</li>
</ul>
<h2 id="2-4-数据库操作基本语句"><a href="#2-4-数据库操作基本语句" class="headerlink" title="2.4 数据库操作基本语句"></a>2.4 数据库操作基本语句</h2><h3 id="2-4-1-创建数据库"><a href="#2-4-1-创建数据库" class="headerlink" title="2.4.1 创建数据库"></a>2.4.1 创建数据库</h3><p>普通创建</p>
<pre><code class="sql"> create database 数据库名;
</code></pre>
<p>防止数据库存在时创建</p>
<pre><code class="sql">CREATE DATABASE IF NOT EXISTS 数据库名
</code></pre>
<h3 id="2-4-2-删除数据库"><a href="#2-4-2-删除数据库" class="headerlink" title="2.4.2 删除数据库"></a>2.4.2 删除数据库</h3><p>普通删除</p>
<pre><code class="sql">Drop Database 数据库名;
</code></pre>
<p>防止不存在删除</p>
<pre><code class="sql">Drop Database If Exists 数据库名;
</code></pre>
<h3 id="2-4-3-创建表"><a href="#2-4-3-创建表" class="headerlink" title="2.4.3 创建表"></a>2.4.3 创建表</h3><p>所有语句后面加逗号，最后一句不需要</p>
<pre><code class="sql">CREATE Table if not exits 表名(
    字段名1 列类型 [属性] [索引] [注释] ,
    字段名2 列类型 [属性] [索引] [注释] , 
    ... ,
    id int(4) NOT NULL AUTO_OMCREMENT COMMENT &#39;学号&#39;,
    name varchar(20) NOT NULL DEFAULT &#39;匿名&#39; COMMENT &#39;姓名&#39;,
    PRIMARY KEY(id)
)[表类型] [字符集设置] [注释];
</code></pre>
<p><strong>表中的关键字解释</strong>：</p>
<ol>
<li>DEFAULT：默认值</li>
<li>NOT NULL：非空</li>
<li>PRIMARY KEY(字段名) :设置该列为主键</li>
<li>[表类型] [字符集设置] [注释]:<strong>常用</strong>的引擎和字符集 ENGINE=INNODB DEFAULT CHARSET=utf8</li>
<li>COMMENT：字段名的注释</li>
<li>AUTO_OMCREMENT : 主键自增</li>
</ol>
<h3 id="2-4-4-修改表"><a href="#2-4-4-修改表" class="headerlink" title="2.4.4 修改表"></a>2.4.4 修改表</h3><p>修改表名：</p>
<pre><code class="sql">Alter Table 表名 Rename As 新表名;
</code></pre>
<p>增加字段：</p>
<pre><code class="sql">Alter Table 表名 ADD 字段名 列类型 [属性] [索引] [注释];
</code></pre>
<p>修改表的字段：</p>
<pre><code class="sql">--修改约束：
Alter Table 表名 MODIFY 字段名 列类型 [属性] [索引] [注释];
</code></pre>
<pre><code class="sql">--重命名：
Alter Table 表名 Change 字段名 新字段名;
</code></pre>
<p>删除表的字段：</p>
<pre><code class="sql">Alter Table 表名 Drop 字段名;
</code></pre>
<h3 id="2-4-5-删除表"><a href="#2-4-5-删除表" class="headerlink" title="2.4.5 删除表"></a>2.4.5 删除表</h3><pre><code class="sql">Drop Table If Exists 表名
</code></pre>
<h2 id="2-5-数据库引擎"><a href="#2-5-数据库引擎" class="headerlink" title="2.5 数据库引擎"></a>2.5 数据库引擎</h2><ol>
<li><p>INNODB：默认使用：</p>
</li>
<li><p>MyISAM：早期版本使用的</p>
</li>
</ol>
<table>
<thead>
<tr>
<th></th>
<th>MYISAM</th>
<th>INNODB</th>
</tr>
</thead>
<tbody><tr>
<td>事务支持</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>数据行锁定</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>外键约束</td>
<td>不支持</td>
<td>支持</td>
</tr>
<tr>
<td>全文索引</td>
<td>支持</td>
<td>不支持</td>
</tr>
<tr>
<td>表空间的大小</td>
<td>较小</td>
<td>较大</td>
</tr>
</tbody></table>
<p><strong>常规的使用操作：</strong></p>
<ul>
<li>MYISAM 好处：节约空间，速度较快</li>
<li>INNODB 好处：安全性高，事务的处理，多表多用户操作</li>
</ul>
<p><strong>在物理空间存在的位置：</strong></p>
<p>所有的数据库文件都存在data目录下，一个文件夹就对应一个数据库，本质还是文件存储</p>
<p><strong>MySQL引擎在物理文件上的区别：</strong></p>
<ul>
<li>INNOD在数据库表中，只有一个*.frm文件 以及上级目录下的ibdata1文件</li>
<li>MYISAM对应的文件<ul>
<li>*.frm      表结构的定义文件</li>
<li>*.MYD    数据文件(data)</li>
<li>*.MYI     存放索引(index)</li>
</ul>
</li>
</ul>
<p><strong>设置数据库表的字符集编码：</strong></p>
<p>如果不设置，默认字符集不支持中文，那么会出现乱码问题，因此一般设置为utf8编码：CHARSET=utf8</p>
<p>或者在my.ini中配置默认的编码</p>
<h1 id="三、MySQL数据管理-DML-【含重点】"><a href="#三、MySQL数据管理-DML-【含重点】" class="headerlink" title="三、MySQL数据管理(DML)【含重点】"></a>三、MySQL数据管理(DML)【含重点】</h1><h2 id="3-1-外键【物理外键不建议使用】"><a href="#3-1-外键【物理外键不建议使用】" class="headerlink" title="3.1 外键【物理外键不建议使用】"></a>3.1 外键【物理外键不建议使用】</h2><p>删除有外键关系的表的时候，必须要先删除引用别人的表(从表)，再删除被引用的表(主表)</p>
<blockquote>
<p><strong>外键设置方法1：</strong></p>
</blockquote>
<pre><code class="sql">CREATE Table if not exits 表名(
    字段名1 列类型 [属性] [索引] [注释] ,
    字段名2 列类型 [属性] [索引] [注释] , 
    PRIMARY KEY(id),
    KEY FK_外键字段名 (外键字段名),
    CONSTRAINT FK_外键字段名 FOREIGN KEY (外键字段名) REFERENCES 另一个表(另一个表的字段名)
)[表类型] [字符集设置] [注释];
</code></pre>
<p>关键词解释：</p>
<ol>
<li>KEY FK_ 外键字段名中的 FK_ 是固定的</li>
<li>FOREIGN KEY：为本表的某字段设置为外键链接其他表</li>
<li>REFERENCES：引用，主要涉及外表内容</li>
<li>CONSTRAINT 约束</li>
</ol>
<blockquote>
<p><strong>外键设置方法2【建议】：</strong></p>
</blockquote>
<p>利用修改表</p>
<pre><code class="sql">Alter Table 表名 
ADD CONSTRAINT FK_外键字段名 FOREIGN KEY (外键字段名) REFERENCES 另一个表(另一个表的字段名);
</code></pre>
<p><strong>以上操作都是数据库的物理外键，数据库级别的外键，不建议使用！(避免数据库过多造成困扰)</strong></p>
<p><strong>最佳实现：</strong></p>
<ul>
<li>数据库就是单纯的表，只用来存数据，只有行(数据)和列(字段)</li>
<li>如果想要使用多张表的数据，利用程序在应用层实现</li>
</ul>
<h2 id="3-2-DML语言基本语句【重点】！"><a href="#3-2-DML语言基本语句【重点】！" class="headerlink" title="3.2 DML语言基本语句【重点】！"></a>3.2 DML语言基本语句【重点】！</h2><h3 id="3-2-1-添加"><a href="#3-2-1-添加" class="headerlink" title="3.2.1 添加"></a>3.2.1 添加</h3><pre><code class="sql">Insert Into 表名 (字段1,字段2, ...) Values (值1,值2, ...)
</code></pre>
<p>如果插表内所有字段可简化为:</p>
<pre><code class="sql">Insert Into 表名 Values (值1,值2, ...)
</code></pre>
<p>​        此时字段与值一一对应，一个也不能少和对应错误</p>
<p>插入多个字段:</p>
<pre><code class="sql">Insert Into 表名 (字段1,字段2, ...) Values (值1,值2, ...),(值1,值2, ...)[...]
</code></pre>
<h3 id="3-2-2-修改"><a href="#3-2-2-修改" class="headerlink" title="3.2.2 修改"></a>3.2.2 修改</h3><pre><code class="sql">Update 表名 SET 字段名=value,... Where [条件]
</code></pre>
<p>如果不指定条件，会改动所有的表，最好不要这样</p>
<p><strong>value不一定是一个具体的值，也可以是变量名</strong></p>
<h3 id="3-2-3-删除"><a href="#3-2-3-删除" class="headerlink" title="3.2.3 删除"></a>3.2.3 删除</h3><pre><code class="sql">Delete From 表名 Where [条件]
</code></pre>
<p>危险操作：不写条件，就直接删库了</p>
<blockquote>
<p>TRUNCATE命令：</p>
</blockquote>
<pre><code class="sql">TRUNCATE Table 表名
</code></pre>
<p>作用：完全清空一个数据库表，效果与Delete不写条件类似，且不会改变表的结构和索引约束</p>
<blockquote>
<p>TRUNCATE和Delete From 表名比较</p>
</blockquote>
<ul>
<li>相同点：都能删除数据，都不会删除表结构</li>
<li>不同点：<ul>
<li>TRUNCATE 重新设置 自增列，计数器会归零</li>
<li>TRUNCATE 不会影响事务</li>
</ul>
</li>
</ul>
<p>拓展：DELETE删除的问题，重启数据库现象</p>
<ul>
<li>INNODB 自增列从1开始，(存在于内存中，断电即失)</li>
<li>MyISAM 继续从上一个子增量开始</li>
</ul>
<h3 id="3-2-4-查询"><a href="#3-2-4-查询" class="headerlink" title="3.2.4 查询"></a>3.2.4 查询</h3><p>见 四</p>
<h1 id="四、DQL查询数据【重中之重！】"><a href="#四、DQL查询数据【重中之重！】" class="headerlink" title="四、DQL查询数据【重中之重！】"></a>四、DQL查询数据【重中之重！】</h1><ul>
<li>所有查询操作都依靠DQL ：Select</li>
<li>简单的查询以及复杂的查询都能实现</li>
<li>数据库中最核心的语言，使用频率最高</li>
</ul>
<p>查询某表全部字段：</p>
<pre><code class="sql">Select * from 表名;
</code></pre>
<p><strong>SE LECT语法模板：</strong></p>
<pre><code class="sql">SELECT [ALL|DISTINCT] --是否需要去重
&#123;* | table.*|[table.field1[as alias1]][,...]&#125;
FROM table_name [as table_alias]
    [left | right | inner join table_name2] --联合查询
    [WHERE ...]    --指定结果需满足的条件
    [GROUP BY ...] --指定结果按照那几个字段来分组
    [HAVING]    --过滤分组的记录必须满足的次要条件
    [ORDER BY ...]    --指定查询记录按照一个或多个条件排序
    [LIMIT &#123;[offset,]row_count | row_countOFFSET offset&#125;];    --指定查询的记录从哪条到哪条
</code></pre>
<p><em>Tips: []表示可选语句,{}表示必有语句</em></p>
<h2 id="4-1-Where-条件子语句"><a href="#4-1-Where-条件子语句" class="headerlink" title="4.1 Where 条件子语句"></a>4.1 Where 条件子语句</h2><p>作用:检索数据中<code>符合条件</code>的值</p>
<blockquote>
<p>逻辑运算符</p>
</blockquote>
<table>
<thead>
<tr>
<th>操作符</th>
<th>含义</th>
<th>范围</th>
<th>结果</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>等于</td>
<td>5=6</td>
<td>false</td>
</tr>
<tr>
<td>&lt;&gt;或!=</td>
<td>不等于</td>
<td>5&lt;&gt;6</td>
<td>true</td>
</tr>
<tr>
<td>&gt;</td>
<td>大于</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;</td>
<td>小于</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&gt;=</td>
<td>大于等于</td>
<td></td>
<td></td>
</tr>
<tr>
<td>&lt;=</td>
<td>小于等于</td>
<td></td>
<td></td>
</tr>
<tr>
<td>AND</td>
<td>和，&amp;&amp;</td>
<td>5&gt;1 and 1&gt;2</td>
<td>false</td>
</tr>
<tr>
<td>OR</td>
<td>或，||</td>
<td>5&gt;1 or 1&gt;2</td>
<td>true</td>
</tr>
<tr>
<td>Not</td>
<td>非</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>比较运算符：</p>
<table>
<thead>
<tr>
<th>运算符</th>
<th>语法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>IS NULL</td>
<td>a IS NULL</td>
<td>如果操作符为NULL，则结果为真</td>
</tr>
<tr>
<td>IS NOT NULL</td>
<td>a IS NOT NULL</td>
<td>如果操作符为not NULL，则结果为真</td>
</tr>
<tr>
<td>Like</td>
<td>a like b</td>
<td>SQL匹配，如果a匹配b，则结果为真</td>
</tr>
<tr>
<td>BETWEEN … AND …</td>
<td>BETWEEN a AND b</td>
<td>在a和b之间,包括首尾</td>
</tr>
<tr>
<td>IN</td>
<td>a IN (a1,a2…)</td>
<td>假设a在指定集合里面，则结果为真</td>
</tr>
</tbody></table>
<h2 id="4-2-查询指定字段"><a href="#4-2-查询指定字段" class="headerlink" title="4.2 查询指定字段"></a>4.2 查询指定字段</h2><pre><code class="sql">Select * from 表名 Where [条件];
</code></pre>
<h3 id="别名应用-As-："><a href="#别名应用-As-：" class="headerlink" title="别名应用(As)："></a>别名应用(As)：</h3><pre><code class="sql">Select 列名 As 列别名 From 表名 As 表别名 Where [条件];
</code></pre>
<h3 id="常用函数："><a href="#常用函数：" class="headerlink" title="常用函数："></a>常用函数：</h3><ul>
<li>字符串</li>
</ul>
<pre><code class="sql">SELECT CONCAT(&#39;值1&#39;,&#39;值2&#39;); -- 连接字符串
SELECT CHAR_LENGTH(); -- 字符串长度
SELECT LOWER(); -- 转小写
SELECT UPPER(); -- 转大写
SELECT INSTR(&#39;字符串&#39;,&#39;子串&#39;); -- 返回第一次出现的子串的索引
SELECT REPLACE(&#39;字符串&#39;,&#39;指定串&#39;,&#39;新串&#39;); -- 替换出现的指定字符串
SELECT SUBSTR(&#39;字符串&#39;,开始位置,结束位置); -- 返回指定的子字符串
SELECT REVERSE(); -- 字符串反转
LOCATE(substr,str); -- 字符串str第一次出现字串substr的位置，可以利用LOCATE() = 0判断是否存在子串
</code></pre>
<ul>
<li>数学运算</li>
</ul>
<pre><code class="sql">SELECT ABS(); -- 绝对值
SELECT CEILING(); -- 向上取整
SELECT FLOOR();-- 向下取整
SELECT RAND(); -- 随机数
SELECT SIGN(); -- 判断一个数的符号，负数返回-1，正数返回1，0就是0
TRUNCATE(X,D) /* MySQL自带的一个系统函数，X是数值，D是保留小数的位数。其作用就是按照小数位数，进行数值截取（此处的截取是按保留位数直接进行截取，没有四舍五入）规则如下：
1）当 D 大于0，是对数值 X 的小数位数进行操作；
2）当 D 等于0，是将数值 X 的小数部分去除，只保留整数部分；
3）当 D 小于0，是将数值 X 的小数部分去除，并将整数部分按照 D 指定位数，用 0 替换*/
</code></pre>
<ul>
<li>时间和日期</li>
</ul>
<pre><code class="sql">SELECT CURRENT_DATE(); -- 获取当前时间
SELECT CURDATE(); -- 获取当前时间
SELECT NOW(); -- 获取当前时间
SELECT DATEDIFF(开始时间，结束时间); -- 两段时间相差多少天
SELECT LOCALTIME(); -- 获取本地时间
SELECT SYSDATE(); -- 获取系统时间
SELECT DAY(LAST_DAY(NOW())); -- 获取本月的天数
DATE_FORMAT(date,format); -- 函数用于以不同的格式显示日期/时间数据 格式缩写表：https://www.w3school.com.cn/sql/func_date_format.asp
</code></pre>
<ul>
<li>系统</li>
</ul>
<pre><code class="sql">SELECT SYSTEM_USER();
SELECT USER();
SELECT VERSION();
</code></pre>
<h3 id="聚合函数【常用】"><a href="#聚合函数【常用】" class="headerlink" title="聚合函数【常用】"></a>聚合函数【常用】</h3><table>
<thead>
<tr>
<th>函数名称</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td><strong>COUNT()</strong></td>
<td>计数</td>
</tr>
<tr>
<td>SUM()</td>
<td>求和</td>
</tr>
<tr>
<td>AVG()</td>
<td>平均值</td>
</tr>
<tr>
<td>MAX()</td>
<td>最大值</td>
</tr>
<tr>
<td>MIN()</td>
<td>最小值</td>
</tr>
<tr>
<td>…</td>
<td>…</td>
</tr>
</tbody></table>
<pre><code class="sql">SELECT COUNT(指定字段) FROM 表名; -- 会忽略所有的NULL值
SELECT COUNT(*) FROM 表名; -- 不会忽略NULL值
SELECT COUNT(1) FROM 表名; -- 不会忽略NULL值
-- 列名为主键时，指定列名更快，非主键时count(1)更快
-- COUNT(1)与COUNT(*)本质相同
</code></pre>
<h3 id="去重操作"><a href="#去重操作" class="headerlink" title="去重操作"></a>去重操作</h3><p>关键词：distinct</p>
<p>发现重复数据可以去重</p>
<pre><code class="sql">Select DISTINCT * From 表名
</code></pre>
<h3 id="数据库的列-表达式"><a href="#数据库的列-表达式" class="headerlink" title="数据库的列(表达式)"></a>数据库的列(表达式)</h3><p>部分：</p>
<pre><code class="sql">Select VERSION() --查询系统版本
Select 100*3-1 As 计算结果 -- 用于计算
Select @@auto_increment_increment --查询自增的步长
</code></pre>
<p>数据库中的表达式：文本值，列，Null，函数，计算表达式，系统变量</p>
<pre><code class="sql">Select 表达式 From 表
</code></pre>
<h2 id="4-3-模糊查询（LIKE）"><a href="#4-3-模糊查询（LIKE）" class="headerlink" title="4.3 模糊查询（LIKE）"></a>4.3 模糊查询（LIKE）</h2><p>本质是比较运算符</p>
<p>Like %代表0到任意个字符 _代表一个字符</p>
<pre><code class="sql">-- 查询多个字的
Select * From 表名 Where 字段名 Like &#39;%(某字符)%&#39;
-- 查询单个字符
Select * From 表名 Where 字段名 Like &#39;某字符_&#39;
</code></pre>
<p>在多条数据中查有无，用IN</p>
<h2 id="4-4-联表查询（JOIN）"><a href="#4-4-联表查询（JOIN）" class="headerlink" title="4.4 联表查询（JOIN）"></a>4.4 联表查询（JOIN）</h2><h2 id="join" style="display:none;"> </h2>

<blockquote>
<p>Join对比</p>
</blockquote>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210427222824681.png" alt="image-20210427222824681"></p>
<p>七大联表查询：</p>
<p><img src="https://img-blog.csdn.net/20171230161932523" alt="img"></p>
<table>
<thead>
<tr>
<th>操作</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>left join</td>
<td>如果表中至少有一个匹配，就返回行(交叉条件)</td>
</tr>
<tr>
<td>inner join</td>
<td>会从左表中返回所有的值，即使右表没有匹配</td>
</tr>
<tr>
<td>right join</td>
<td>会从右表中返回所有的值，即使左表没有匹配</td>
</tr>
</tbody></table>
<h3 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h3><ol>
<li>分析需求：，分析查询的字段来自哪些表(连接查询)</li>
<li>确定使用那种连接查询(共七种)</li>
<li>确定交叉点(这两个表中哪个数据时相同的)</li>
<li>如果存在多张表，先查询两张表再慢慢增加</li>
</ol>
<h3 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h3><p><strong>两张表：</strong></p>
<p>表student:</p>
<p>​    含字段：studentNO,studentName</p>
<p>表result:</p>
<p>​    含字段：studentNO,StudentResult</p>
<pre><code class="sql">Select studentNO,studentName,SubjectNo,StudentResult
From student As s
INNER JOIN result As r
ON s.studentNO = r.studetNO
</code></pre>
<p><strong>注意:</strong> 这里连接语法要用ON(连接查询中判断的条件)，Where是等值查询。两者作用一样，但这里受语法限制</p>
<p><strong>多张表：</strong></p>
<p>表student:</p>
<p>​    含字段：studentNO,studentName</p>
<p>表result:</p>
<p>​    含字段：StudentResult，studentNO,SubjectNo</p>
<p>表subject:</p>
<p>​    含字段：SubjectNo,SubjectName,studentNO</p>
<pre><code class="sql">Select studentNO,studentName,SubjectNo,StudentResult
From student  s    --这里也是别名的一种方式
Right JOIN result  r
ON s.studentNO = r.studetNO
Inner Join subject sub
ON r.SubjectNo = sub.SubjectNo
</code></pre>
<h2 id="4-5-自连接查询【了解】"><a href="#4-5-自连接查询【了解】" class="headerlink" title="4.5 自连接查询【了解】"></a>4.5 自连接查询【了解】</h2><p>自己的表和自己的表连接</p>
<p>核心：一张表拆为两张一样的表</p>
<p>查询父子信息：</p>
<pre><code class="sql">Select 当前字段名 as 父别名,当前字段名 As 子别名
From 当前表名 As 父表别名,当前表名 As 子表别名
Where 父表别名.id = 子表别名.pid
</code></pre>
<h2 id="4-6-分页-Limit-和排序-Order-By"><a href="#4-6-分页-Limit-和排序-Order-By" class="headerlink" title="4.6 分页(Limit)和排序(Order By)"></a>4.6 分页(Limit)和排序(Order By)</h2><h3 id="4-6-1-排序"><a href="#4-6-1-排序" class="headerlink" title="4.6.1 排序"></a>4.6.1 排序</h3><ul>
<li><p>升序：ASC</p>
</li>
<li><p>降序：DESC</p>
</li>
</ul>
<pre><code class="sql">Select * From 表名
Order By 字段名 &#123;ASC|DESC&#125;
</code></pre>
<h3 id="4-6-2-分页"><a href="#4-6-2-分页" class="headerlink" title="4.6.2 分页"></a>4.6.2 分页</h3><p>作用：缓解数据库压力，给人更好的体验</p>
<pre><code class="sql">Select * From 表名
Limit 起始值,页面大小
</code></pre>
<p>举例:</p>
<p>Limit 0,5  : 1~5条</p>
<p>Limit 1,5 ：2~6条</p>
<p>Limit 5,5 : 第二页</p>
<h3 id="4-6-3-应用举例"><a href="#4-6-3-应用举例" class="headerlink" title="4.6.3 应用举例"></a>4.6.3 应用举例</h3><p><strong>题目</strong>：查询 Java 第一学年，课程乘绩排名前十的学生，并且分数大于80的学生信息(学号，姓名，课程名称，分数)</p>
<p>数据库结构：</p>
<p>​    表student:</p>
<p>​        含字段：StudentNo,StudentName</p>
<p>​    表result:</p>
<p>​        含字段：StudentResult，StudentNo,SubjectNo</p>
<p>​    表subject:</p>
<p>​        含字段：SubjectNo,StudentNo,SubjectName</p>
<pre><code class="sql">Select s.StudentNo,StudentName,SubjectName,StudentResult
From sutdent s
INNER JOIN result r
ON s.StudentNo = r.StudentNo
INNER JOIN subject sub
ON sub.SubjectNo = r.SubjuctNo
WHERE SubjectName = &#39;第一学年&#39; AND StudentResult&gt;=80
ORDER BY StudentResult DESC --降序
LIMIT 0,10
</code></pre>
<h2 id="4-7-子查询-【难点-重点】"><a href="#4-7-子查询-【难点-重点】" class="headerlink" title="4.7 子查询 【难点|重点】"></a>4.7 子查询 【难点|重点】</h2><p>本质：在Where语句中嵌套一个子查询语句</p>
<p>此处截取SQL语句与需求，不提供数据库</p>
<p>子查询包括：Where嵌套查询 和 联表查询</p>
<p>  <a href="#join">联表查询见4.4</a></p>
<p>这里是嵌套查询：</p>
<ol>
<li>用子查询找出所有没有成绩的学生的学号、姓名及院系，专业。</li>
</ol>
<pre><code class="sql">Select Distinct Student.Sno,Student.Sname,Student.Sdept,Smajor 
From Student ,SC 
Where Student.Sno not in(
    Select Student.Sno 
    From Student,SC 
    Where Student.Sno = SC.Sno
)
</code></pre>
<ol start="2">
<li>查询课程名中不含“大学”字样的课程信息。</li>
</ol>
<pre><code class="sql">Select * From Course 
Where Cname not in (
    Select Cname 
    From Course 
    Where Cname Like &#39;大学%&#39;
)
</code></pre>
<ol start="3">
<li>查询平均分高于80分的学生</li>
</ol>
<p>表结构:</p>
<pre><code class="sql">CREATE TABLE `stu` (
  `sno` char(4) NOT NULL,
  `sname` char(8) NOT NULL,
  `sex` tinyint(1) DEFAULT NULL,
  `mno` char(2) DEFAULT NULL,
  `birdate` datetime DEFAULT NULL,
  `memo` text,
  PRIMARY KEY (`sno`)
);
CREATE TABLE `sc` (
  `sno` char(4) NOT NULL,
  `cno` char(4) NOT NULL,
  `grade` decimal(6,1) DEFAULT NULL,
  PRIMARY KEY (`sno`,`cno`),
  CONSTRAINT `fk_sc_sno` FOREIGN KEY (`sno`) REFERENCES `stu` (`sno`)
);
</code></pre>
<p>答案：</p>
<pre><code class="sql">Select DisTinct sname 
From stu,sc 
Where sc.sno = stu.sno and sc.sno in (
    Select sno From sc 
    Group By sno 
    Having AVG(grade)&gt;=80
) 
</code></pre>
<h2 id="4-8-分组过滤"><a href="#4-8-分组过滤" class="headerlink" title="4.8 分组过滤"></a>4.8 分组过滤</h2><p>举例：</p>
<p>查询不同课程的平均分，最高分，最低分，平均分大于80 (核心：根据不同的课程分析)</p>
<p>​    表result:</p>
<p>​        含字段：StudentResult，StudentNo,SubjectNo</p>
<p>​    表subject:</p>
<p>​        含字段：SubjectNo,StudentNo,SubjectName</p>
<pre><code class="sql">SELECT subjectName,AVG(StudentResult) AS 平均分,MAX(StudentResult) AS 最高分,MIN(StudentResult) AS 最低分
From result r
INNER Join subject sub
ON r.SubjectNo = sub.SubjectNo
Group By r.SubjectNo --通过什么字段分组
Having 平均分 &gt; 80
</code></pre>
<p>注意，分组过滤不能使用Where，要用Having</p>
<h2 id="4-9-数据库级别的MD5加密【拓展】"><a href="#4-9-数据库级别的MD5加密【拓展】" class="headerlink" title="4.9  数据库级别的MD5加密【拓展】"></a>4.9  数据库级别的MD5加密【拓展】</h2><p>什么是MD5?<br>主要增强算法复杂度和不可逆性。MD5不可逆</p>
<p>加密：</p>
<pre><code class="sql">UPDATE 表名 SET 加密字段=MD5(加密字段) Where [条件]
</code></pre>
<h2 id="4-10-合并表-UNION-、虚拟表、特殊关键字用法"><a href="#4-10-合并表-UNION-、虚拟表、特殊关键字用法" class="headerlink" title="4.10 合并表(UNION)、虚拟表、特殊关键字用法"></a>4.10 合并表(UNION)、虚拟表、特殊关键字用法</h2><h3 id="UNION"><a href="#UNION" class="headerlink" title="UNION"></a>UNION</h3><p>UNION 操作符用于合并两个或多个 SELECT 语句的结果集。</p>
<p>UNION 内部的 SELECT 语句必须拥有相同数量的列。列也必须拥有相似的数据类型。同时，每条 SELECT 语句中的列的顺序必须相同。</p>
<p>UNION语法：</p>
<pre><code class="sql">SELECT column_name(s) FROM table_name1
UNION
SELECT column_name(s) FROM table_name2
</code></pre>
<p>默认地，UNION 操作符选取不同的值。如果允许重复的值，请使用 UNION ALL。</p>
<p>SQL UNION ALL 语法：</p>
<pre><code class="sql">SELECT column_name(s) FROM table_name1
UNION ALL
SELECT column_name(s) FROM table_name2
</code></pre>
<h3 id="dual表的用途及案例-dual虚拟表"><a href="#dual表的用途及案例-dual虚拟表" class="headerlink" title="dual表的用途及案例 (dual虚拟表)"></a>dual表的用途及案例 (dual虚拟表)</h3><blockquote>
<p>DUAL是为了方便那些要求所有SELECT语句都应该具有FROM和其他子句的人。MySQL可能会忽略该条款。如果没有引用表，MySQL不需要从DUAL。</p>
</blockquote>
<h3 id="较少使用的关键字及其用法"><a href="#较少使用的关键字及其用法" class="headerlink" title="较少使用的关键字及其用法"></a>较少使用的关键字及其用法</h3><p>CUBE：CUBE 生成的结果集显示了所选列中值的所有组合的聚合。</p>
<p>ROLLUP：ROLLUP 生成的结果集显示了所选列中值的某一层次结构的聚合。</p>
<p>GROUPING：当行由 CUBE 或 ROLLUP 运算符添加时，该函数将导致附加列的输出值为 1；当行不由 CUBE 或 ROLLUP 运算符添加时，该函数将导致附加列的输出值为 0。</p>
<h1 id="五、事务"><a href="#五、事务" class="headerlink" title="五、事务"></a>五、事务</h1><p>什么是事务：</p>
<p> 要么都成功要么都失败</p>
<ol>
<li>SQL1 执行 A给B转账   A 1000  —-&gt; 200  B 200</li>
<li>SQL 2执行 B收到钱  A 800 —–&gt; B 400</li>
</ol>
<p>将SQL放在一个批次中去执行</p>
<h2 id="5-1-事务原则"><a href="#5-1-事务原则" class="headerlink" title="5.1 事务原则"></a>5.1 事务原则</h2><h3 id="ACID原则："><a href="#ACID原则：" class="headerlink" title="ACID原则："></a><strong>ACID原则：</strong></h3><ul>
<li>**原子性(Atomicity)**：针对同一个事务，即SQL1和SQL2要么一起成功要么一起失败</li>
<li>**一致性(Consistency)**：针对一个事务操作前与操作后的状态一致</li>
<li>**持久性(Durability)**：表示事务结束后的数据不随外界原因导致数据丢失<ul>
<li>如果事务没有提交，服务器宕机或断电，那么重启数据库后数据状态恢复为原来的状态</li>
<li>如果事务已经提交，服务器宕机或断电，重启后应该是状态已经改变后的状态</li>
</ul>
</li>
<li>**隔离性(Isolation)**：针对多个用户同时操作，主要是排除其他事务对本次事务的影响</li>
</ul>
<h3 id="隔离导致的一部分问题："><a href="#隔离导致的一部分问题：" class="headerlink" title="隔离导致的一部分问题："></a><strong>隔离导致的一部分问题：</strong></h3><ul>
<li>脏读：一个事务读取了另一个事务<strong>未提交</strong>的数据</li>
<li>不可重复读：在一个事务内读取表中的某一行数据，多次读取结果不同。(这个不一定是错误，只是某些场合不对)</li>
<li>虚读(幻读)：是指在一个事务内读取到了别的事务插入的数据，导致前后读取不一致。一般是导致多了一行</li>
</ul>
<h2 id="事务的SQL实现"><a href="#事务的SQL实现" class="headerlink" title="事务的SQL实现"></a>事务的SQL实现</h2><p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210428223647431.png" alt="image-20210428223647431"></p>
<h2 id="5-2-隔离级别"><a href="#5-2-隔离级别" class="headerlink" title="5.2 隔离级别"></a>5.2 隔离级别</h2><p>脏读”、“不可重复读”和“幻读”，其实都是数据库读一致性问题，必须由数据库提供一定的事务隔离机制来解决。</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20220107210227726.png" alt="image-20220107210227726"></p>
<p>数据库的事务隔离越严格，并发副作用越小，但付出的代价也就越大，因为事务隔离实质上就是使事务在一定程度上“串行化”进行，这显然与“并发”是矛盾的。同时，不同的应用对读一致性和事务隔离程度的要求也是不同的，比如许多应用对“不可重复读”和“幻读”并不敏感，可能更关心数据并发访问的能力。</p>
<h1 id="六、索引"><a href="#六、索引" class="headerlink" title="六、索引"></a>六、索引</h1><blockquote>
<p>MySQL官方对索引的定义为:<strong>索引 (Index)）是帮助MySQL高效获取数据的数据结构。</strong></p>
<p>提取句子主干，就可以得到索引的本质:索引是数据结构。</p>
</blockquote>
<h2 id="6-1-索引的分类"><a href="#6-1-索引的分类" class="headerlink" title="6.1 索引的分类"></a>6.1 索引的分类</h2><ul>
<li>主键索引 : PRIMARY KEY<ul>
<li>唯一的标识，主键不可重复，只有一个列可以作为主键</li>
</ul>
</li>
<li>唯一索引 ：UNIQUE KEY<ul>
<li>避免重复的列出现，唯一索引可以重复，多个列都可以标识为 唯一索引</li>
</ul>
</li>
<li>常规索引 ：KEY / INDEX<ul>
<li>默认的，INDEX 或 KEY关键字来设置</li>
</ul>
</li>
<li>全文索引 ：FULLTEXT<ul>
<li>在特定的数据库引擎下才有 : MyISAM</li>
<li>快速定位数据</li>
</ul>
</li>
</ul>
<h2 id="6-2-索引的使用"><a href="#6-2-索引的使用" class="headerlink" title="6.2 索引的使用"></a>6.2 索引的使用</h2><ol>
<li>在创建表的时候给字段增加索引</li>
<li>创建完毕后，增加索引</li>
</ol>
<pre><code class="sql">-- 显示当前所有的索引信息
SHOW INDEX FROM 表名;
-- 增加一个索引
ALTER TABLE 表名 ADD 索引 INDEX 索引名(列名) -- 一般索引名与列名同名

-- 分析SQL执行状况 :EXPLAIN
EXPLAIN SELECT * From 表名; -- 非全文索引
SELECT * FROM 表名 WHERE MATCH(字段名) AGAINST(&#39;查找值&#39;);-- 全文索引
</code></pre>
<h2 id="6-3-索引原则"><a href="#6-3-索引原则" class="headerlink" title="6.3 索引原则"></a>6.3 索引原则</h2><ul>
<li>索引不是越多越好</li>
<li>不要对进程变动数据加索引</li>
<li>小数据量的表不需要加索引</li>
<li>索引一般加在常用来查询的字段上</li>
</ul>
<blockquote>
<p>索引的数据结构</p>
</blockquote>
<p>Hash 类型的索引</p>
<p>Btree INNODB的默认数据结构</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210429223436340.png" alt="image-20210429223436340"></p>
<h1 id="七、数据库的设计"><a href="#七、数据库的设计" class="headerlink" title="七、数据库的设计"></a>七、数据库的设计</h1><p><strong>当数据库比较复杂的时候，我们就需要设计了</strong></p>
<p>糟糕的数据库设计:</p>
<ul>
<li><p>数据冗余，浪费空间</p>
</li>
<li><p>数据库插入和删除都会麻烦、异常【屏蔽使用物理外键】</p>
</li>
</ul>
<p>良好的数据库设计:</p>
<ul>
<li>节省内存空间</li>
<li>保证数据库的完整性</li>
<li>方便我们开发系统</li>
</ul>
<p><strong>软件开发中，关于数据库的设计：</strong></p>
<ul>
<li>分析需求：分析业务和需要处理的数据库的需求</li>
<li>概要设计：设计关系E-R图</li>
</ul>
<p>数据库设计步骤：</p>
<ul>
<li>收集信息，分析需求<ul>
<li>用户表：用户登录注销，用户的个人信息</li>
<li>分类表：分类</li>
<li>内容表：内容</li>
<li>友链表 ： 友链信息</li>
<li>自定义表：系统信息，某个关键的子或者一些主字段 key：value</li>
</ul>
</li>
<li>标识实体 把需求落地到每个字段</li>
<li>标识实体之间的关系</li>
</ul>
<h2 id="7-1-数据库三大范式"><a href="#7-1-数据库三大范式" class="headerlink" title="7.1 数据库三大范式"></a>7.1 数据库三大范式</h2><p>为什么需要规范？</p>
<ul>
<li>信息重复</li>
<li>更新异常</li>
<li>插入异常<ul>
<li>无法正常显示信息</li>
</ul>
</li>
<li>删除异常<ul>
<li>丢失有效信息</li>
</ul>
</li>
</ul>
<blockquote>
<p> <strong>三大范式：</strong></p>
</blockquote>
<h3 id="第一范式-1NF"><a href="#第一范式-1NF" class="headerlink" title="第一范式(1NF):"></a><strong>第一范式(1NF):</strong></h3><p><strong>要求数据库表的每一列都是补课分割的原子数据项。</strong></p>
<p>举例：</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210430134041779.png" alt="image-20210430134041779"></p>
<p>家庭信息可以再分：人口数和地点</p>
<p>学校信息可以再分学位和年级</p>
<h3 id="第二范式-2NF-："><a href="#第二范式-2NF-：" class="headerlink" title="第二范式(2NF)："></a>第二范式(2NF)：</h3><p><strong>在第一范式的基础上，非码属性必须完全依赖于候选码</strong>(换言之：每张表只描述一件事) ，<strong>第二范式需要确保数据库中的每一列都和主键相关，而不能至于主键的某一部分相关</strong>(主要针对联合之间而言)</p>
<p>举例：</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210430134940210.png" alt="image-20210430134940210"></p>
<p>在上图所示的情况中，同一个订单中可能也含不同的产品，因此主键必须足”订单号”和“产品号”联合组成,<br>但可以发现，产品数量、产品折扣、产品价格与”订单号”和“产品号”都相关，但是订单金瓶和订单时间仅与”订单号”相关，与产品号无关。这样就不满足第二范式的要求，需分成两个表，应修改为:</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210430135104301.png" alt="image-20210430135104301"></p>
<h3 id="第三范式-3NF-："><a href="#第三范式-3NF-：" class="headerlink" title="第三范式(3NF)："></a>第三范式(3NF)：</h3><p><strong>在第二范式的基础上，任何非主属性不依赖于其他非主属性，第三范式需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关</strong></p>
<p>举例：</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210430141250208.png" alt="image-20210430141250208"></p>
<p>表所有属性都完全依赖于学号，所以满足第二范式，但是”班主任性别”和”班主任年龄”直接依赖的是”班主任姓名”，而不是主键”学号”，所以需做如下调整：</p>
<p><img src="C:\Users\HP\AppData\Roaming\Typora\typora-user-images\image-20210430141326205.png" alt="image-20210430141326205"></p>
<p>规范性  和  性能的问题：</p>
<p>关联查询的表不得超过三张表</p>
<ul>
<li>考虑商业化的需求和目标(成本、用户体验)</li>
<li>在规范性能的问题的时候，需要适当的考虑一下 规范性</li>
<li>故意给某些表增加一些冗余的字段(从多表查询变为单表查询)</li>
<li>故意增加一些计算列(从大数据量降低为小数据量的查询：或者增加索引)</li>
</ul>
<h1 id="八、数据库连接池"><a href="#八、数据库连接池" class="headerlink" title="八、数据库连接池"></a>八、数据库连接池</h1><p>数据库连接—执行完毕—释放</p>
<p>连接–释放  非常浪费系统资源</p>
<p><strong>池化技术：准备一些预先的资源，过来就连接预先准备好的</strong></p>
<p>最小连接数、最大连接数、等待超时</p>
<p>编写连接池，实现一个接口：DataSource</p>
<blockquote>
<p>开源数据源实现</p>
</blockquote>
<p>DBCP</p>
<p>C3P0</p>
<p>Druid</p>
<p>使用了这些数据库连接池之后，我们在项目中就不需要编写连接数据库的代码了</p>
<h1 id="九、总结"><a href="#九、总结" class="headerlink" title="九、总结"></a>九、总结</h1><p><strong>数据库的难点主要在于查询</strong></p>
<ul>
<li><p>常用查询</p>
<ul>
<li>涉及到多表操作时，使用联表查询(JOIN)，其中使用较多的就是INNER JOIN。同时不是必须使用，也可通过FROM多表查询</li>
<li>涉及到需要分组统计的时候，使用GROUP BY XX字段</li>
<li>根据多组字段排序时，ORDER BY 字段1 ASC/DESC , 字段2 ASC/DESC …</li>
</ul>
</li>
<li><p>查询的易错点</p>
<ul>
<li><p>HAVING和WHERE，他们两个的执行位置不同，WHERE要在GROUP BY之前，而HAVING要在其后，同时，聚合函数(如count(),AVG()等)是不能放进WHERE的，因为WHERE的执行顺序先于他们，因此会出现语法错误，而HAVING则可以根据聚合函数的值进行过滤筛选。</p>
</li>
<li><p>判断是否为NULL的时候，是用 IS NULL 判断，并非 = 号。</p>
</li>
<li><p>联表查询时也可能需要自联，两个相同的表进行连接，此时容易出现表明混乱，这时候所有的表明必须取一个别名，并且字段名需要使用表名的别名进行索引，其他类似情况同理。</p>
</li>
</ul>
</li>
</ul>
<p><strong>在设计表时，一般要遵循如下的默认规则</strong>：</p>
<ul>
<li>选择合适的数据类型。能定长尽量定长。定长会节省很多查询时间</li>
<li>使用ENUM而不是Varchar，ENUM类型是非常快和紧凑的，在实际上，其保存的是TINYINT，但外表显示为字符串，用这个字段做一些选项列表变得非常完美。</li>
<li>不要使用无法加索引的类型作为关键字段，比如test类型</li>
<li>为了避免联表查询，有时候可以适当的数据冗余，比如邮箱、姓名这些不容易更改的数据</li>
<li>选择合适的表引擎，有时候MyISAM适合，有时候InnoDB适合</li>
<li>为保证查询性能，最好每个表都建立有auto_increment字段，建立合适的数据库索引</li>
<li>最好给每个字段设定一个default值</li>
</ul>
<p>索引建立原则：合适的索引可以提高语句性能</p>
<ul>
<li><p>一般针对数据分散的关键字进行建立索引，比如ID、QQ、性别、状态值等建立索引没有意义</p>
</li>
<li><p>字段唯一，最少，不可为NULL</p>
</li>
<li><p>对大数据量建立聚集索引、避免更新操作带来的碎片</p>
</li>
<li><p>尽量使用段索引，一般对int、char、date等类型的字段建立索引</p>
</li>
<li><p>谨慎件里Unique类型的索引</p>
</li>
<li><p>大文本字段不建立为索引，如果需要对大文本字段进行检索，可以考虑全文索引</p>
</li>
<li><p>频繁更新的列不适合建立索引  </p>
</li>
<li><p>Order By中的字段、where子句中的字段。最常用的sql语句中的字段，应该建立索引</p>
</li>
<li><p>只有建立索引以后，表内的行才能按照特定的顺序存储，按照需要可以是ASC或DESC</p>
</li>
</ul>
<p><strong>SQL语句模板</strong>：</p>
<pre><code class="sql">SELECT [ALL|DISTINCT] --是否需要去重
&#123;* | table.*|[table.field1[as alias1]][,...]&#125;
FROM table_name [as table_alias]
    [left | right | inner join table_name2] --联合查询
    [WHERE ...]    --指定结果需满足的条件
    [GROUP BY ...] --指定结果按照那几个字段来分组
    [HAVING]    --过滤分组的记录必须满足的次要条件
    [ORDER BY ...]    --指定查询记录按照一个或多个条件排序
    [LIMIT &#123;[offset,]row_count | row_countOFFSET offset&#125;];    --指定查询的记录从哪条到哪条
</code></pre>
<p><strong>MySQL语句的执行顺序</strong>：</p>
<pre><code class="sql">(8) SELECT (9) DISTINCT (11)&lt;TOP_specification&gt; &lt;Select_list&gt;
(1) FROM &lt;table_name&gt; [as table_alias]
(3)        [left | right | inner join table_name2] --联合查询
(2)        ON &lt;join_condition&gt;
(4) [WHERE ...]    
(5) [GROUP BY ...]
(6) [WITH &#123;CUBE | ROLLUP&#125;]
(7) [HAVING] 
(10)  [ORDER BY ...] 
</code></pre>
<p><strong>使SQL语言更高效</strong>：</p>
<ul>
<li>能够快速缩小结果集的WHERE条件写在前面，如果有恒量条件，也尽量放在前面</li>
<li>尽量避免使用GROUP BY、DISTINCT、OR、IN等语句，尽量避免使用联表查询和子查询</li>
<li>不要在WHERE子句中的”=”左边进行算术或表达式运算，否则系统可能无法正确使用索引</li>
<li>避免使用SELECT * ，只取需要的字段</li>
<li>如果查入的数据量很大，用SELECT INTO 替代 INSERT INTO 能带来更好的性能</li>
<li>WHERE字句中尽量不要使用CASE条件</li>
<li>尽量不使用触发器，特别是大数据表上</li>
<li>使用　UNION　ALL　操作代替OR操作，注意此时需要注意一点查询条件可以使用聚集索引，如果是非聚集索引将因此相反的效果</li>
<li>当只有一行数据时使用　LIMIT　１</li>
</ul>
<p><strong>数据库和Java字段对应</strong>：</p>
<p><img src="https://img-blog.csdn.net/20170930200408361?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvenQxNTczMjYyNTg3OA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="img"></p>
<p>Date在JavaEntity中一般使用java.util.Date类型</p>
<h1 id="十、SQL模板"><a href="#十、SQL模板" class="headerlink" title="十、SQL模板"></a>十、SQL模板</h1><p><strong>SQL语句模板</strong>：</p>
<pre><code class="sql">SELECT [ALL|DISTINCT] --是否需要去重
&#123;* | table.*|[table.field1[as alias1]][,...]&#125;
FROM table_name [as table_alias]
    [left | right | inner join table_name2] --联合查询
    [WHERE ...]    --指定结果需满足的条件
    [GROUP BY ...] --指定结果按照那几个字段来分组
    [HAVING]    --过滤分组的记录必须满足的次要条件
    [ORDER BY ...]    --指定查询记录按照一个或多个条件排序
    [LIMIT &#123;[offset,]row_count | row_countOFFSET offset&#125;];    --指定查询的记录从哪条到哪条
</code></pre>
<p><strong>MySQL语句的执行顺序</strong>：</p>
<pre><code class="sql">(8) SELECT (9) DISTINCT (11)&lt;TOP_specification&gt; &lt;Select_list&gt;
(1) FROM &lt;table_name&gt; [as table_alias]
(3)        [left | right | inner join table_name2] --联合查询
(2)        ON &lt;join_condition&gt;
(4) [WHERE ...]    
(5) [GROUP BY ...]
(6) [WITH &#123;CUBE | ROLLUP&#125;]
(7) [HAVING] 
(10)  [ORDER BY ...] 
</code></pre>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/DBA" style=color:#ffa2c4>
                DBA
            </a>
        </span>
        
    </div>

    <a href="/2019/12/05/SQL/ " class="go-post">
        阅读全文
    </a>
</div>


             
<div class="page-current">

    <div class="prev">
        
        <a href="/">
            <span class="page-num">
                <a-icon type="caret-left" theme="filled" />
            </span>
        </a>
        
    </div>

    <div class="page-index">

        
        <span>

            

            
            <a href="/">
                <span class="page-num">
                    1
                </span>
            </a>
        </span>
        

        <span class="current">
            2
        </span>

        

    </div>

    <div class="next">
        
    </div>

</div>

        </div>
    </div>
    
    <div id="home-card">
        <a-affix :offset-top="card_top">
    <a-card class="card-style" style="width: 300px">
        <div class="avatar">
            <img src="images/avatar.png " alt="头像">
        </div>
        <div class="name">
            John Doe
        </div>
        <div class="descriptions">
            
            <div class="description">
                正しさなんてもの
            </div>
            
            <div class="description">
                人のモノサシによって変わる
            </div>
            
        </div>
        <div class="icon-links">
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://github.com/korilin">

                    
                    <a-icon type="github"
                        theme="filled" />
                    
                </a>
            </span>
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://twitter.com/korilin_dev">

                    
                    <a-icon type="twitter"
                        theme="" />
                    
                </a>
            </span>
            
        </div>
        <div class="friend-links">
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://en.korilin.com">
                    英文技术博客
                </a>
            </div>
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://jp.korilin.com">
                    日语记录博客
                </a>
            </div>
            
        </div>
    </a-card>
</a-affix>
    </div>
    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2018 - 2022 Hexo
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @John Doe
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div>
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

</body>

</html>